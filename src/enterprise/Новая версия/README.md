---
order: 6
dir:
  text: "Новая версия"
  link: true
index: true
icon: "star"
---

:::danger
Новая версия в работе, следите за обновлениями. Экспериментальный билд с OAuth2 готов к тестированию.
:::

# Список функций, которых нет, но планируются
- Редактор оргструктуры
- Представление "Регламент" на схеме процесса
- Сравнение версий
- Сравнение AS-IS и TO-BE

# Breaking changes
- Полный отказ от использования Keycloak как уникального провайдера → необходимо перейти на OAuth2.
- Несовместимый формат групп процессов: группы процессов из красной версии (старой) не будут работать в фиолетовой (новой). Их необходимо переделать вручную.
- В некоторых случаях изменились URL, что может привести к неправильным ссылкам в e-mail шаблонах → шаблоны следует обновить.

# Описание экспериментальной сборки
Экспериментальный билд представляет собой новый контейнер `stormbpmn_enterprise_experimental`. Запросите у нас актуальную версию и параметры авторизации в Container Registry, чтобы получить доступ к контейнеру.

Контейнер включает:
- Актуальную версию красной версии на порту 8080
- Актуальную версию фиолетовой версии на порту 8081
- Актуальную версию бекенда, который обслуживает старую и новую версии. Бэкенд не менялся.
- NGINX с минимальной конфигурацией, который корректно раздает старую и новую версии и проксирует запросы к бэкенду

## Особенности
- Все ENV-переменные работают в новой и старой версиях аналогично. Все параметры настроек в административном интерфейсе работают так же.
- Данные не потеряются, все чтобы было разработано будет доступно и через старую и через новую версию.

# Инструкция по установке экспериментальной сборки

1. Сделать бэкап базы, убедиться, что он работает и восстанавливается.
2. Обновить **старую** версию до последней версии (запросите номер у нас).
3. Убедиться, что после обновления **старая** версия работает корректно.
4. Заменить контейнер старой версии на контейнер новой версии, передав все ENV-переменные.
5. На этом этапе у вас без дополнительных настроек должна работать **старая** (красная версия).
6. Создать новое DNS-имя и обеспечить сетевую доступность пользователей до DNS-резолвера и до контейнера. Допустим, новая версия будет на `new-storm.corp.local`.
7. Настроить впереди стоящий прокси с точки зрения SSL для переправки трафика на порт 8081 (не трогая существующие настройки) и обслуживания нового DNS-имени `new-storm.corp.local`.
8. Теперь пользователи могут попасть в старую версию по старому адресу и в новую по адресу `new-storm.corp.local`.
9. При обнаружении неисправимых ошибок пользователи всегда смогут воспользоваться старой версией по старому DNS-имени.

При возникновении любых ошибок обращайтесь в техподдержку, вам помогут.
