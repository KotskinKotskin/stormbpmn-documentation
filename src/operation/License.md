# Как работают лицензии

StormBPMN поддерживает два типа лицензий для управления доступом пользователей к системе.

::: tip Типы лицензий
**Именные лицензии** - для конкретных пользователей  
**Конкурентные лицензии** - для одновременной работы
:::

## Типы лицензий

### Именные лицензии

**Именные лицензии** позволяют входить в систему конкретным пользователям в любой момент времени.

**Принцип работы:**

-   Количество лицензий = количество активных учетных записей
-   Ограничение распространяется на учетные записи во **включенном состоянии**
-   Состояние пользователей отображается в административном интерфейсе

**Пример:** При наличии 30 именных лицензий ровно 30 пользователей могут иметь активные учетные записи.

### Конкурентные лицензии

**Конкурентные лицензии** позволяют иметь в онлайне (в диапазоне 1 минуты) определенное количество одновременно подключенных пользователей.

**Принцип работы:**

-   Количество лицензий = количество одновременных сессий
-   Квант времени для проверки: **1 минута**
-   Ограничение на количество зарегистрированных учетных записей **не действует**
-   Проверка включенности пользователей **не выполняется** с точки зрения лицензий. Все еще проверяется для возможности входа.

**Пример:** При наличии 30 конкурентных лицензий 30 человек смогут работать в системе одновременно.

---

## Управление лицензиями

### Выдача лицензий

По умолчанию автоматическая выдача лицензий **отключена**.

**Стандартный алгоритм для всех типов лицензий:**

| Шаг | Действие                      | Описание                                                          |
| --- | ----------------------------- | ----------------------------------------------------------------- |
| 1   | **Регистрация пользователя**  | Пользователь впервые входит или регистрируется                    |
| 2   | **Активация администратором** | Администратор включает пользователя в административном интерфейсе |
| 3   | **Доступ к системе**          | Пользователь получает возможность входить в систему               |

::: tip Автоматическая выдача лицензий
Для упрощения процесса в административной панели можно включить опцию **"Автоматическая выдача лицензии любому, кто залогинился в систему"**.

В этом случае пользователь после регистрации сразу получает доступ к системе.
:::

---

## Исчерпание лицензий

### Именные лицензии

**Ситуация:** Все места заняты пользователями

**Последствия:**

-   Пользователи **не смогут войти** в систему
-   **Администратор сохраняет доступ** к административной панели

**Решение:**

1. Администратор входит в административную панель
2. Отключает лишних пользователей, что освобождает лицензии

### Конкурентные лицензии

**Ситуация:** Достигнут лимит одновременных подключений

**Последствия:**

-   Новые пользователи **не смогут войти** в течение 1 минуты
-   **Администратор сохраняет доступ** к административной панели
-   При завершении сессий другими пользователями места освобождаются автоматически

**Решение:**

1. **Ожидание** - места освободятся автоматически при выходе пользователей
2. **Принудительное завершение** - администратор может завершить сессии пользователей через административную панель

::: warning Мониторинг лицензий
Регулярно отслеживайте использование **именных** лицензий через административную панель для предотвращения блокировок
:::

---

## Истечение срока лицензии

При истечении срока действия лицензии:

::: danger Блокировка доступа
**Все пользователи, включая администраторов, не смогут войти в систему**

Для восстановления работы необходимо обновить лицензионный ключ.
:::
